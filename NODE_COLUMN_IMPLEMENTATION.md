# 節點列功能實現說明

## 概述

我們已經成功在 Uptime Kuma 的監控器列表中添加了節點列功能，讓用戶可以清楚地看到每個監控器分配給哪個節點。

## 實現的功能

### 1. 節點列顯示
- 在監控器列表中添加了專門的節點列
- 列寬度：16.67% (col-2)
- 監控器名稱列：41.67% (col-5)
- 狀態列：41.67% (col-5)

### 2. 節點標示樣式
- **已分配節點**：藍色背景，顯示節點ID
- **未分配節點**：黃色背景，顯示"未分配"文字
- 使用圖標來增強視覺效果

### 3. 列標題
- 添加了清晰的列標題
- 監控器、節點、狀態三列標題
- 樣式與整體設計保持一致

## 修改的文件

### 1. `src/components/MonitorListItem.vue`
- 重新設計了監控器列表項的佈局
- 添加了專門的節點列
- 更新了節點標示的樣式

### 2. `src/components/MonitorList.vue`
- 添加了列標題
- 更新了過濾邏輯以支持節點顯示

## 技術實現細節

### 1. 佈局結構
```vue
<div class="row">
    <div class="col-5">監控器信息</div>
    <div class="col-2">節點信息</div>
    <div class="col-5">狀態圖表</div>
</div>
```

### 2. 節點信息顯示邏輯
```vue
<span v-if="monitor.assigned_node || monitor.node_id" class="node-badge">
    <font-awesome-icon icon="server" />
    {{ monitor.assigned_node || monitor.node_id }}
</span>
<span v-else class="node-badge unassigned">
    <font-awesome-icon icon="question-circle" />
    {{ $t("Unassigned") }}
</span>
```

### 3. 樣式設計
- 響應式設計，支持不同屏幕尺寸
- 深色/淺色主題支持
- 懸停效果和過渡動畫

## 使用方式

### 1. 查看節點信息
- 節點列會自動顯示每個監控器分配給的節點
- 未分配的監控器會顯示"未分配"標籤

### 2. 節點過濾
- 使用"Show All Nodes"切換開關來查看所有節點的監控器
- 節點過濾功能會根據當前節點ID自動過濾

### 3. 節點管理
- 在編輯監控器時可以分配節點
- 支持 `assigned_node` 和 `node_id` 兩種節點分配方式

## 測試

### 1. 測試頁面
- 創建了 `test-node-column.html` 測試頁面
- 展示節點列的外觀和功能

### 2. 功能驗證
- 節點列正確顯示節點信息
- 未分配監控器顯示正確的標籤
- 響應式佈局在不同屏幕尺寸下正常

## 未來改進建議

### 1. 節點過濾增強
- 添加節點選擇下拉菜單
- 支持多節點選擇過濾

### 2. 節點狀態顯示
- 在節點列中顯示節點的在線狀態
- 添加節點健康度指示器

### 3. 節點統計
- 顯示每個節點的監控器數量
- 節點負載平衡指示器

## 注意事項

1. **性能考慮**：當顯示所有節點時，大量監控器可能影響性能
2. **數據一致性**：確保 `assigned_node` 和 `node_id` 字段的數據一致性
3. **多語言支持**：節點相關文字已支持國際化

## 總結

節點列功能的實現讓用戶能夠：
- 清楚地看到每個監控器的節點分配情況
- 更好地管理多節點環境下的監控器
- 提高監控器管理的效率和透明度

這個功能為 Uptime Kuma 的多節點部署提供了重要的可視化支持。
