# 測試修正後的 PUT API

@baseUrl = http://127.0.0.1:9091
@apiKey = uk1_dRoog_hjdvwvtQTCwXeaXj2jbrjA0OVOsLIkSwJn

### 1. 檢查現有監控器（確認有哪些可用的 ID）
GET {{baseUrl}}/api/v1/monitors
Authorization: {{apiKey}}

### 2. 檢查現有狀態頁面
GET {{baseUrl}}/api/v1/status-pages
Authorization: {{apiKey}}

### 3. 測試修正後的 PUT（只使用 ID 1 和 2）
PUT {{baseUrl}}/api/v1/status-pages/full-test-page
Authorization: {{apiKey}}
Content-Type: application/json

{
  "title": "修正後的測試頁面",
  "publicGroupList": [
    {
      "name": "修正後的群組",
      "monitorList": [
        {
          "id": 1,
          "sendUrl": true
        },
        {
          "id": 2,
          "sendUrl": false,
          "url": "https://custom.example.com"
        },
        {
          "id": 1,
          "sendUrl": false,
          "url": "https://backup.example.com"
        }
      ]
    }
  ]
}

### 4. 驗證更新結果
GET {{baseUrl}}/api/v1/status-pages/full-test-page?includeGroups=true
Authorization: {{apiKey}}

### 5. 如果狀態頁面不存在，先創建一個
POST {{baseUrl}}/api/v1/status-pages
Authorization: {{apiKey}}
Content-Type: application/json

{
  "title": "測試狀態頁面",
  "slug": "full-test-page",
  "description": "用於測試的狀態頁面",
  "theme": "auto",
  "published": true
}
