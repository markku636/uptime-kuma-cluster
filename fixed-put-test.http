# 修正後的 PUT 測試案例

@baseUrl = http://127.0.0.1:9091
@apiKey = uk1_dRoog_hjdvwvtQTCwXeaXj2jbrjA0OVOsLIkSwJn

### 先檢查現有監控器
GET {{baseUrl}}/api/v1/monitors
Authorization: {{apiKey}}

### 修正版本 - 只使用存在的監控器 ID
PUT {{baseUrl}}/api/v1/status-pages/full-test-page
Authorization: {{apiKey}}
Content-Type: application/json

{
  "title": "更新群組的狀態頁面",
  "publicGroupList": [
    {
      "name": "更新後的群組 1",
      "monitorList": [
        {
          "id": 1,
          "sendUrl": true
        },
        {
          "id": 2,
          "sendUrl": false,
          "url": "https://updated-custom-url.example.com"
        }
      ]
    },
    {
      "name": "新增的群組 2", 
      "monitorList": [
        {
          "id": 1,
          "sendUrl": false,
          "url": "https://another-custom-url.example.com"
        }
      ]
    }
  ]
}

### 測試重複使用相同監控器的群組
PUT {{baseUrl}}/api/v1/status-pages/full-test-page
Authorization: {{apiKey}}
Content-Type: application/json

{
  "title": "重複監控器測試",
  "publicGroupList": [
    {
      "name": "群組 A",
      "monitorList": [
        {
          "id": 1,
          "sendUrl": true
        }
      ]
    },
    {
      "name": "群組 B",
      "monitorList": [
        {
          "id": 1,
          "sendUrl": false,
          "url": "https://custom-a.example.com"
        }
      ]
    },
    {
      "name": "群組 C",
      "monitorList": [
        {
          "id": 1,
          "sendUrl": false,
          "url": "https://custom-b.example.com"
        }
      ]
    }
  ]
}

### 驗證更新結果
GET {{baseUrl}}/api/v1/status-pages/full-test-page?includeGroups=true
Authorization: {{apiKey}}
